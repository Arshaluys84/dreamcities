{"version":3,"sources":["cities/citiesItem.module.css","layout/mainNavigation.module.css","ui/card.module.css","cities/citiesList.module.css","layout/layout.module.css","ui/card.js","cities/newCityForm.js","pages/addCity.js","store/favorite-context.js","cities/citiesItem.js","cities/citiesList.js","pages/allCities.js","pages/favorites.js","layout/mainNavigation.js","layout/layout.js","App.js","index.js","cities/newCityForm.module.css"],"names":["module","exports","Card","props","className","styles","card","children","NewCityForm","onAddCity","titleRef","useRef","imageRef","addressRef","descriptionRef","form","onSubmit","e","preventDefault","cityData","tilte","current","value","image","address","description","control","htmlFor","type","required","id","ref","rows","actions","AddCity","history","useHistory","fetch","method","body","JSON","stringify","headers","then","replace","FavoriteContext","createContext","favorites","totalFavorites","addFavorite","city","removeFavorite","cityId","isFavorite","FavoriteContextProvider","useState","usersFavorites","setUsersFavorites","context","length","prev","concat","filter","some","useEffect","localContext","localStorage","getItem","parse","setItem","Provider","CityItem","title","FavContext","useContext","isFav","item","src","alt","content","onClick","CitiesList","list","cities","map","AllCities","isLoading","setIsLoading","setCityData","response","json","data","key","push","Favorites","favContext","MainNavigation","header","to","logo","badge","Layout","main","App","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9deb3245.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"citiesItem_item__19gZf\",\"image\":\"citiesItem_image__2913h\",\"content\":\"citiesItem_content__3ezYx\",\"actions\":\"citiesItem_actions__1hV6X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"mainNavigation_header__2AgBL\",\"logo\":\"mainNavigation_logo__dQDGO\",\"active\":\"mainNavigation_active__3T0MB\",\"badge\":\"mainNavigation_badge__2O_AL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"card_card__3hh_T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"citiesList_list__1D0nP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"layout_main__2jUWC\"};","import styles from './card.module.css'\r\nexport const Card =(props)=>{\r\n    return <div className={styles.card}>\r\n        {props.children}\r\n    </div>\r\n}","import { useRef } from \"react\";\r\nimport { Card } from \"../ui/card\";\r\nimport styles from \"./newCityForm.module.css\";\r\n\r\nexport const NewCityForm = ({onAddCity}) => {\r\n    const titleRef=useRef()\r\n    const imageRef=useRef()\r\n    const addressRef=useRef()\r\n    const descriptionRef=useRef()\r\n\r\n    const submitHandler=(e)=>{\r\n        e.preventDefault()\r\n        const cityData={\r\n            tilte:titleRef.current.value,\r\n            image:imageRef.current.value,\r\n            address:addressRef.current.value,\r\n            description:descriptionRef.current.value\r\n        }\r\n        onAddCity(cityData)\r\n    }\r\n  \r\n  return (\r\n   \r\n      <Card>\r\n        <form className={styles.form} onSubmit={submitHandler}>\r\n          <div className={styles.control}>\r\n            <label htmlFor=\"title\">Add Title</label>\r\n            <input type=\"text\" required id=\"title\" ref={titleRef} />\r\n          </div>\r\n          <div className={styles.control}>\r\n            <label htmlFor=\"image\">Add Image</label>\r\n            <input type=\"url\" required id=\"image\" ref={imageRef} />\r\n          </div>\r\n          <div className={styles.control}>\r\n            <label htmlFor=\"address\">Add Address</label>\r\n            <input type=\"text\" required id=\"address\" ref={addressRef} />\r\n          </div>\r\n          <div className={styles.control}>\r\n            <label htmlFor=\"description\">Add Description</label>\r\n            <textarea type=\"text\" required id=\"description\"  ref={descriptionRef} rows='5'/>\r\n          </div>\r\n          <div className={styles.actions}>\r\n              <button>Add City</button>\r\n          </div>\r\n        </form>\r\n      </Card>\r\n   \r\n  );\r\n};\r\n","import {useHistory} from 'react-router-dom'\r\nimport { NewCityForm } from \"../cities/newCityForm\"\r\n\r\nexport const AddCity = () => {\r\n    const history=useHistory()\r\nconst onAddhandler=(cityData)=>{\r\n   \r\n    //https://dreamcities-d9a46-default-rtdb.firebaseio.com/\r\n fetch(`https://dreamcities-d9a46-default-rtdb.firebaseio.com/cities.json`,\r\n {\r\n    method:'POST',\r\n    body:JSON.stringify(cityData),\r\n    headers:{\r\n       'Content-type':'application/json'\r\n    }\r\n}).then(()=>{\r\n    history.replace('/')\r\n})\r\n \r\n}\r\n  return <section>\r\n      <h1>\r\n          Add City\r\n      </h1>\r\n      <NewCityForm  onAddCity={onAddhandler}/>\r\n  </section>;\r\n};\r\n","import { createContext, useState, useEffect } from \"react\";\r\nexport const FavoriteContext = createContext({\r\n  favorites: [],\r\n  totalFavorites: 0,\r\n  addFavorite: (city) => {},\r\n  removeFavorite: (cityId) => {},\r\n  isFavorite: (cityId) => {},\r\n});\r\n\r\nexport const FavoriteContextProvider = ({ children }) => {\r\n  const [usersFavorites, setUsersFavorites] = useState([]);\r\n\r\n  const addFavorite = (city) => {\r\n    setUsersFavorites((prev) => prev.concat(city));\r\n  };\r\n  const removeFavorite = (cityId) => {\r\n    setUsersFavorites((prev) => prev.filter((city) => cityId !== city.id));\r\n  };\r\n  const isFavorite = (cityId) => {\r\n    return usersFavorites.some((city) => cityId === city.id);\r\n  };\r\n  \r\n \r\n  const context = {\r\n    favorites: usersFavorites,\r\n    totalFavorites: usersFavorites.length,\r\n    addFavorite,\r\n    removeFavorite,\r\n    isFavorite,\r\n  };\r\n  useEffect(()=>{\r\n    let localContext=localStorage.getItem('usersFavorites')\r\n    if (localContext){\r\n        setUsersFavorites(JSON.parse(localContext))\r\n    }\r\n  },[])\r\n  useEffect(() => {\r\n    localStorage.setItem('usersFavorites',JSON.stringify(usersFavorites))\r\n});\r\n\r\n  return (\r\n    <FavoriteContext.Provider value={context}>\r\n      {children}\r\n    </FavoriteContext.Provider>\r\n  );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { FavoriteContext } from \"../store/favorite-context\";\r\nimport { Card } from \"../ui/card\";\r\nimport styles from \"./citiesItem.module.css\";\r\nexport const CityItem = ({ id, image, title, address, description }) => {\r\n  const FavContext = useContext(FavoriteContext);\r\n  const isFav = FavContext.isFavorite(id);\r\n  const toggleFavorite = () => {\r\n    if (isFav) {\r\n      FavContext.removeFavorite(id);\r\n    } else {\r\n      FavContext.addFavorite({\r\n        id,\r\n        image,\r\n        title,\r\n        address,\r\n        description,\r\n      });\r\n    }\r\n  };\r\n  return (\r\n    <li className={styles.item}>\r\n      <Card>\r\n        <div className={styles.image}>\r\n          <img src={image} alt={title} />\r\n        </div>\r\n        <div className={styles.content}>\r\n          <h3>{title}</h3>\r\n          <address>{address}</address>\r\n          <p>{description}</p>\r\n        </div>\r\n        <div className={styles.actions}>\r\n          <button onClick={toggleFavorite}>\r\n            {isFav ? \"Remove from Favorites\" : \"To Favorites\"}\r\n          </button>\r\n        </div>\r\n      </Card>\r\n    </li>\r\n  );\r\n};\r\n","import { CityItem } from \"./citiesItem\";\r\nimport styles from \"./citiesList.module.css\";\r\n\r\nexport const CitiesList = (props) => {\r\n  return (\r\n    <ul className={styles.list}>\r\n      {props.cities.map((city) => {\r\n        return (\r\n          <CityItem\r\n            key={city.id}\r\n            id={city.id}\r\n            title={city.title}\r\n            image={city.image}\r\n            address={city.address}\r\n            description={city.description}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { CitiesList } from \"../cities/citiesList\";\r\n\r\n\r\n//import { CITYDATA } from \"../cityData\";\r\n\r\nexport const AllCities = () => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [cityData, setCityData] = useState([]);\r\n \r\n  useEffect(() => {\r\n    setIsLoading(true)\r\n    fetch(`https://dreamcities-d9a46-default-rtdb.firebaseio.com/cities.json`)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n       \r\n        const cities=[]\r\n        for (const key in data) {\r\n          const city = {\r\n            id: key,\r\n            ...data[key],\r\n          };\r\n          cities.push(city)\r\n        }\r\n        setIsLoading(false);\r\n        setCityData(cities);\r\n      });\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return <p>LOADING....</p>;\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>All Cities</h1>\r\n      <CitiesList cities={cityData} />\r\n    </div>\r\n  );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { CitiesList } from \"../cities/citiesList\";\r\nimport { FavoriteContext } from \"../store/favorite-context\";\r\n\r\nexport const Favorites = () => {\r\n  const favContext = useContext(FavoriteContext);\r\n  let content;\r\n\r\n  if (favContext.totalFavorites === 0) {\r\n    content = <p>You do not have favorite city yet</p>;\r\n  } else {\r\n    content = <CitiesList cities={favContext.favorites} />;\r\n  }\r\n\r\n  return (\r\n    <section>\r\n      <h2>My Favorites</h2>\r\n      {content}\r\n    </section>\r\n  );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FavoriteContext } from \"../store/favorite-context\";\r\nimport styles from \"./mainNavigation.module.css\";\r\n\r\nexport const MainNavigation = () => {\r\n const favContext= useContext(FavoriteContext)\r\n  return (\r\n    <header className={styles.header}>\r\n      <Link to=\"/\" className={styles.logo}>DreamCities</Link>\r\n      <nav>\r\n        <ul>\r\n          <li>\r\n            <Link to=\"/\">AllCities</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/add-new-city\">Add new city</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/favorites\">My favorites\r\n            <span className={styles.badge}>{favContext.totalFavorites}</span></Link>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n","import styles from \"./layout.module.css\";\r\nimport { MainNavigation } from \"./mainNavigation\";\r\n\r\nexport const Layout = ({ children }) => {\r\n  return (\r\n    <div>\r\n      <MainNavigation />\r\n      <main className={styles.main}>{children}</main>\r\n    </div>\r\n  );\r\n};\r\n","import { Route, Switch } from \"react-router-dom\";\nimport { AddCity } from \"./pages/addCity\";\nimport { AllCities } from \"./pages/allCities\";\nimport { Favorites } from \"./pages/favorites\";\nimport \"./App.css\";\nimport { Layout } from \"./layout/layout\";\n\nfunction App() {\n  return (\n    <Layout>\n      <Switch>\n        <Route path=\"/\" exact>\n          <AllCities />\n        </Route>\n        <Route path=\"/add-new-city\">\n          <AddCity />\n        </Route>\n        <Route path=\"/favorites\">\n          <Favorites />\n        </Route>\n      </Switch>\n    </Layout>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { FavoriteContextProvider } from \"./store/favorite-context\";\n\nReactDOM.render(\n  <FavoriteContextProvider >\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </FavoriteContextProvider>,\n\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"newCityForm_form__3Tykv\",\"control\":\"newCityForm_control__3Xbn1\",\"actions\":\"newCityForm_actions__354nI\"};"],"sourceRoot":""}